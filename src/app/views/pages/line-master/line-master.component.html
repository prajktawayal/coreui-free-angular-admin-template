<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

<div class="container d-flex justify-content-center align-items-center mt-5">
    <div class="card p-4 shadow-lg" style="max-width: 450px; width: 100%; border-radius: 15px; background: linear-gradient(135deg, #f0f8ff, #d8eaff);">
        <div class="text-center mb-3 py-2" style="background-color: #007bff; color: white; border-radius: 10px;">
            <h4 class="mt-1" style="font-family: 'Poppins', sans-serif; font-weight: 600;">Line Master</h4>
        </div>

        <form [formGroup]="lineForm" (ngSubmit)="lineFormSubmit()">
            <div class="mb-3">
                <label for="LineId" class="form-label fw-bold">Line ID</label>
                <input type="text" class="form-control rounded-pill shadow-sm" id="LineId" formControlName="LineId">
                <div *ngIf="lineId?.invalid && lineId?.touched" class="text-danger">Line ID is required</div>
            </div>

            <div class="mb-3">
                <label for="NoOfLines" class="form-label fw-bold">Number of Lines</label>
                <input type="text" class="form-control rounded-pill shadow-sm" id="NoOfLines" formControlName="NoOfLines">
                <div *ngIf="lineNumber?.invalid && lineNumber?.touched" class="text-danger">Line Number is required</div>
            </div>

            <div class="mb-3">
                <label for="PlantId" class="form-label fw-bold">Plant ID</label>
                <input type="text" class="form-control rounded-pill shadow-sm" id="PlantId" formControlName="PlantId">
                <div *ngIf="plantId?.invalid && plantId?.touched" class="text-danger">Plant ID is required</div>
            </div>

            <div class="mb-3">
                <label for="Factory" class="form-label fw-bold">Factory ID</label>
                <input type="text" class="form-control rounded-pill shadow-sm" id="Factory" formControlName="Factory">
                <div *ngIf="FactoryId?.invalid && FactoryId?.touched" class="text-danger">Factory ID is required</div>
            </div>

            <div class="mb-3">
                <label for="LineName" class="form-label fw-bold">Line Name</label>
                <input type="text" class="form-control rounded-pill shadow-sm" id="LineName" formControlName="LineName">
                <div *ngIf="lineName?.invalid && lineName?.touched" class="text-danger">Line Name is required</div>
            </div>

            <div class="d-grid">
                <button type="submit" class="btn btn-primary rounded-pill shadow-sm py-2" [disabled]="lineForm.invalid" style="font-weight: 600; font-size: 16px;">Submit</button>
            </div>
        </form>
    </div>
</div>

<style>
    body {
        font-family: 'Poppins', sans-serif;
        background-color: #f8f9fa;
    }
    .form-label {
        color: #333;
    }
    .form-control {
        border: 1px solid #007bff;
    }
    .form-control:focus {
        border-color: #0056b3;
        box-shadow: 0 0 5px rgba(0, 91, 187, 0.5);
    }
    .btn-primary {
        background-color: #007bff;
        border: none;
    }
    .btn-primary:hover {
        background-color: #0056b3;
    }
</style>
    <div class="col p-4 shadow align-items-left ms-1 mt-2 rounded bg-light">
    <div class="text-center mb-3 form-control rounded">
        <h4 class="mt-2 fw-bold" style="font-weight: bolder; font-style: italic; color:#6E260E; font-size:xx-large">Line Information</h4>
    </div>

    <div class="table-responsive" style="max-height: 500px; overflow-y: auto;">
        <table class="table table-bordered table-hover table-striped align-middle">
            <thead class="bg-dark text-white text-center">
                <tr>
                    <th scope="col">Row Id</th>
                    <th scope="col">Line Id</th>
                    <th scope="col">Number of Lines</th>
                    <th scope="col">Plant ID</th>
                    <th scope="col">Factory ID</th>
                    <th scope="col">Line Name</th>
                    <th scope="col">Actions</th>
                </tr>
            </thead>
            <tbody class="text-center">
                <tr *ngFor="let item of lineMasterList | keyvalue">
                    <td class="fw-bold">{{ item.key }}</td>

                    <!-- Line Id Column -->
                    <td>
                        <ng-container *ngIf="!item.value.isEditing; else editLineId">
                            {{ item.value.LineId }}
                        </ng-container>
                        <ng-template #editLineId>
                            <input type="text" class="form-control form-control-sm" [(ngModel)]="item.value.LineId">
                        </ng-template>
                    </td>

                    <!-- Number of Lines Column -->
                    <td>
                        <ng-container *ngIf="!item.value.isEditing; else editNoOfLines">
                            {{ item.value.NoOfLines }}
                        </ng-container>
                        <ng-template #editNoOfLines>
                            <input type="text" class="form-control form-control-sm" [(ngModel)]="item.value.NoOfLines">
                        </ng-template>
                    </td>

                    <!-- Plant Id Column -->
                    <td>
                        <ng-container *ngIf="!item.value.isEditing; else editPlantId">
                            {{ item.value.PlantId }}
                        </ng-container>
                        <ng-template #editPlantId>
                            <input type="text" class="form-control form-control-sm" [(ngModel)]="item.value.PlantId">
                        </ng-template>
                    </td>

                    <!-- Factory Id Column -->
                    <td>
                        <ng-container *ngIf="!item.value.isEditing; else editFactory">
                            {{ item.value.Factory }}
                        </ng-container>
                        <ng-template #editFactory>
                            <input type="text" class="form-control form-control-sm" [(ngModel)]="item.value.Factory">
                        </ng-template>
                    </td>

                    <!-- Line Name Column -->
                    <td>
                        <ng-container *ngIf="!item.value.isEditing; else editLineName">
                            {{ item.value.LineName }}
                        </ng-container>
                        <ng-template #editLineName>
                            <input type="text" class="form-control form-control-sm" [(ngModel)]="item.value.LineName">
                        </ng-template>
                    </td>

                    <!-- Actions Column -->
                    <td>
                        <button *ngIf="!item.value.isEditing" (click)="editRow(item.key)" class="btn btn-sm btn-primary">
                            Edit
                        </button>
                        <button *ngIf="item.value.isEditing" (click)="saveRow(item.key)" class="btn btn-sm btn-success">
                            Save
                        </button>
                        <button (click)="DeleteRow(item.key)" class="btn btn-sm btn-danger">
                            Delete
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
